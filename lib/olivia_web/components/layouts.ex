defmodule OliviaWeb.Layouts do
  @moduledoc """
  This module holds layouts and related functionality
  used by your application.
  """
  use OliviaWeb, :html

  # Embed all files in layouts/* within this module.
  # The default root.html.heex file contains the HTML
  # skeleton of your application, namely HTML headers
  # and other static content.
  embed_templates "layouts/*"

  @doc """
  Renders your app layout.

  This function is typically invoked from every template,
  and it often contains your application menu, sidebar,
  or similar.

  ## Examples

      <Layouts.app flash={@flash}>
        <h1>Content</h1>
      </Layouts.app>

  """
  attr :flash, :map, required: true, doc: "the map of flash messages"

  attr :current_scope, :map,
    default: nil,
    doc: "the current [scope](https://hexdocs.pm/phoenix/scopes.html)"

  slot :inner_block, required: true

  def app(assigns) do
    ~H"""
    <header class="navbar px-4 sm:px-6 lg:px-8">
      <div class="flex-1">
        <a href="/" class="flex-1 flex w-fit items-center gap-2">
          <img src={~p"/images/logo.svg"} width="36" />
          <span class="text-sm font-semibold">v{Application.spec(:phoenix, :vsn)}</span>
        </a>
      </div>
      <div class="flex-none">
        <ul class="flex flex-column px-1 space-x-4 items-center">
          <li>
            <a href="https://phoenixframework.org/" class="btn btn-ghost">Website</a>
          </li>
          <li>
            <a href="https://github.com/phoenixframework/phoenix" class="btn btn-ghost">GitHub</a>
          </li>
          <li>
            <.theme_toggle />
          </li>
          <li>
            <a href="https://hexdocs.pm/phoenix/overview.html" class="btn btn-primary">
              Get Started <span aria-hidden="true">&rarr;</span>
            </a>
          </li>
        </ul>
      </div>
    </header>

    <main class="px-4 py-20 sm:px-6 lg:px-8">
      <div class="mx-auto max-w-2xl space-y-4">
        {render_slot(@inner_block)}
      </div>
    </main>

    <.flash_group flash={@flash} />
    """
  end

  @doc """
  Shows the flash group with standard titles and content.

  ## Examples

      <.flash_group flash={@flash} />
  """
  attr :flash, :map, required: true, doc: "the map of flash messages"
  attr :id, :string, default: "flash-group", doc: "the optional id of flash container"

  def flash_group(assigns) do
    ~H"""
    <div id={@id} aria-live="polite">
      <.flash kind={:info} flash={@flash} />
      <.flash kind={:error} flash={@flash} />

      <.flash
        id="client-error"
        kind={:error}
        title={gettext("We can't find the internet")}
        phx-disconnected={show(".phx-client-error #client-error") |> JS.remove_attribute("hidden")}
        phx-connected={hide("#client-error") |> JS.set_attribute({"hidden", ""})}
        hidden
      >
        {gettext("Attempting to reconnect")}
        <.icon name="hero-arrow-path" class="ml-1 size-3 motion-safe:animate-spin" />
      </.flash>

      <.flash
        id="server-error"
        kind={:error}
        title={gettext("Something went wrong!")}
        phx-disconnected={show(".phx-server-error #server-error") |> JS.remove_attribute("hidden")}
        phx-connected={hide("#server-error") |> JS.set_attribute({"hidden", ""})}
        hidden
      >
        {gettext("Attempting to reconnect")}
        <.icon name="hero-arrow-path" class="ml-1 size-3 motion-safe:animate-spin" />
      </.flash>
    </div>
    """
  end

  @doc """
  Provides dark vs light theme toggle based on themes defined in app.css.

  See <head> in root.html.heex which applies the theme before page load.
  """
  def theme_toggle(assigns) do
    ~H"""
    <div class="card relative flex flex-row items-center border-2 border-base-300 bg-base-300 rounded-full">
      <div class="absolute w-1/3 h-full rounded-full border-1 border-base-200 bg-base-100 brightness-200 left-0 [[data-theme=light]_&]:left-1/3 [[data-theme=dark]_&]:left-2/3 transition-[left]" />

      <button
        class="flex p-2 cursor-pointer w-1/3"
        phx-click={JS.dispatch("phx:set-theme")}
        data-phx-theme="system"
      >
        <.icon name="hero-computer-desktop-micro" class="size-4 opacity-75 hover:opacity-100" />
      </button>

      <button
        class="flex p-2 cursor-pointer w-1/3"
        phx-click={JS.dispatch("phx:set-theme")}
        data-phx-theme="light"
      >
        <.icon name="hero-sun-micro" class="size-4 opacity-75 hover:opacity-100" />
      </button>

      <button
        class="flex p-2 cursor-pointer w-1/3"
        phx-click={JS.dispatch("phx:set-theme")}
        data-phx-theme="dark"
      >
        <.icon name="hero-moon-micro" class="size-4 opacity-75 hover:opacity-100" />
      </button>
    </div>
    """
  end

  @doc """
  Renders the main navigation header for public pages.
  """
  attr :current_scope, :map, default: nil
  attr :theme, :string, default: "original"

  def navigation(assigns) do
    ~H"""
    <nav class="bg-white border-b border-gray-200">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 justify-between items-center">
          <div class="flex items-center">
            <.link navigate={~p"/"} class="hover:opacity-80 transition-opacity" style="margin-top: 66px; margin-left: -50px; position: relative; z-index: 1000;">
              <%!-- Old logo (text-based)
              <svg viewBox="0 65 500 75" class="h-12 w-auto" xmlns="http://www.w3.org/2000/svg">
                <text x="20" y="105" font-family="'Brush Script MT', cursive" font-size="48" fill="#2c2c2c" letter-spacing="2">
                  Olivia Tew
                </text>
                <defs>
                  <linearGradient id="brushGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#8b7355;stop-opacity:0.6" />
                    <stop offset="50%" style="stop-color:#6b5d54;stop-opacity:0.8" />
                    <stop offset="100%" style="stop-color:#8b7355;stop-opacity:0.6" />
                  </linearGradient>
                </defs>
                <path
                  d="M 15 115 Q 50 110, 100 112 T 200 115 T 300 113 T 400 116 Q 430 117, 460 112"
                  stroke="url(#brushGradient)"
                  stroke-width="4"
                  fill="none"
                  stroke-linecap="round"
                  opacity="0.7"
                />
                <text x="250" y="135" font-family="Arial, sans-serif" font-size="10" fill="#9a8a7a" text-anchor="middle" letter-spacing="3">
                  oliviatew.co.uk
                </text>
              </svg>
              --%>
              <%!-- DTEW change style="height: 130px;"  or  style="margin-top: 40px; --%>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 720" class="w-auto" style="height: 250px;" role="img" aria-label="Olivia Tew Signature Logo">
                <path fill="#2a5264" opacity="1.000000" stroke="none" d="M763.603882,336.622406 C756.676697,345.051727 748.182312,350.477936 738.296692,354.056946 C734.780334,355.330048 733.451233,359.364258 730.544678,361.675201 C721.709351,368.699921 711.676697,373.371643 701.385681,377.715973 C695.045593,380.392426 689.821838,384.655060 685.222046,389.891632 C678.637207,397.387970 672.034912,405.065247 661.253357,406.774170 C658.492981,407.211700 656.481018,408.880432 655.295532,411.583496 C653.490295,415.699799 650.828003,419.555420 649.698730,423.830566 C646.686829,435.231934 637.647034,440.424957 628.555176,445.747803 C626.257080,447.093231 623.761719,448.226257 621.766418,449.934998 C618.750122,452.518066 615.420044,453.327332 611.598389,453.178558 C607.616760,453.023590 603.644409,452.798279 599.670227,453.764008 C591.369812,455.780945 586.030457,460.741608 583.042725,468.762604 C580.961792,474.348999 578.521362,479.882965 575.524414,485.022125 C572.877197,489.561493 567.809326,491.954498 563.403076,494.266388 C555.941223,498.181488 548.612854,502.414764 540.410461,505.039032 C531.848389,507.778320 524.017883,505.487396 516.072571,503.485931 C513.300293,502.787567 510.698486,501.649261 507.851044,502.376526 C496.421722,505.295685 485.652130,509.127655 475.897400,516.518738 C470.376923,520.701599 464.800537,526.220520 458.043579,527.926208 C446.595734,530.815918 434.796936,533.418091 422.956421,528.414368 C419.040466,526.759583 414.570923,526.466370 410.446167,525.241699 C404.836792,523.576355 403.171600,520.653625 404.936279,515.048462 C406.000732,511.667450 405.346863,508.999603 403.652008,506.088470 C401.261902,501.983154 398.320496,498.389435 394.591064,495.539673 C389.256439,491.463287 383.952393,490.002869 377.064362,493.288574 C367.990295,497.617065 358.531403,502.304291 347.985321,500.772186 C341.389374,499.813934 334.798950,499.101929 328.174225,498.531616 C324.692291,498.231873 321.227356,497.688904 317.741394,497.490784 C304.700165,496.749542 295.356476,489.816986 287.831940,479.804077 C282.423859,472.607574 276.980133,465.542053 269.192017,460.554810 C264.585022,457.604645 261.822662,452.927124 260.366516,447.592834 C259.234955,443.447418 256.773041,440.974274 252.566879,439.340271 C242.762177,435.531372 239.769913,430.726562 242.971466,418.842102 C244.822021,411.972687 240.942184,401.718903 235.718262,396.885773 C228.931335,390.606567 222.981430,383.408234 216.834824,376.460815 C215.159958,374.567719 214.780319,371.903473 214.583405,369.400452 C213.524017,355.934021 209.966888,342.851929 208.492020,329.446533 C208.087509,325.769867 207.780762,322.156616 208.585037,318.521637 C211.080063,307.245453 208.331665,297.248749 201.710190,287.927551 C197.598816,282.139862 196.560318,275.628845 198.038589,268.444305 C200.929733,254.393188 207.110214,241.728821 213.775650,229.268860 C217.852173,221.648468 224.248184,217.096573 233.149353,216.049805 C247.202545,214.397202 261.038666,211.298981 275.111908,209.620926 C281.830444,208.819809 288.625916,206.695114 294.346130,202.937225 C301.423096,198.287979 308.249695,198.200089 315.613251,201.625092 C324.360748,205.693802 333.391388,207.013046 342.776672,203.977020 C343.724854,203.670288 344.857635,203.611664 345.600464,203.041489 C355.166107,195.699020 367.333191,193.821167 377.480713,187.816925 C382.255432,184.991730 387.258148,182.892929 392.350800,180.892349 C396.039062,179.443497 398.983978,179.900589 402.220581,182.986618 C406.720337,187.276978 413.203186,188.805023 418.020508,193.072006 C421.187286,195.876968 423.858124,198.954391 426.429108,202.211166 C427.778076,203.919998 428.248505,205.967422 427.276947,207.853455 C425.049866,212.176834 426.463593,217.786652 422.141632,221.424713 C420.571198,222.746643 421.663757,224.427429 423.152649,225.612961 C424.730316,226.869186 426.326599,226.938049 427.556091,225.419083 C428.443604,224.322586 428.837158,222.826279 429.590363,221.209076 C434.935181,221.854584 439.966156,224.381958 445.508667,224.463348 C447.598602,224.494064 448.398102,226.753845 448.509033,228.583435 C449.070557,237.840317 455.045532,244.803177 458.635193,252.759247 C461.574677,259.274292 465.087952,265.528229 468.164856,271.984680 C469.288788,274.343140 470.694885,276.238556 472.979187,277.508911 C475.165039,278.724518 477.148346,280.117371 478.748383,282.173492 C481.402130,285.583710 483.817596,285.402954 486.262451,281.927185 C486.643707,281.385193 487.112915,280.808197 487.226929,280.189453 C489.293243,268.976501 498.696472,265.345093 507.301361,261.208313 C512.413696,258.750549 515.724670,255.064926 516.907471,249.876450 C519.170288,239.949829 525.684448,235.023361 535.184631,234.483826 C544.409119,233.959946 553.359741,232.533173 562.192810,230.003220 C565.989990,228.915649 569.658875,229.151505 573.425842,230.552734 C583.163025,234.174713 592.962708,235.731094 603.105957,231.595917 C607.001282,230.007904 610.666443,231.305328 613.080444,235.089203 C616.862610,241.017761 621.702576,243.617950 629.276978,243.373886 C636.993958,243.125244 643.365540,241.684875 650.300842,237.803360 C659.455200,232.679932 669.826050,228.423904 680.118591,226.992401 C691.330078,225.433090 703.364685,226.665909 710.707886,238.172852 C711.777527,239.849075 713.117432,241.363312 714.415955,242.880951 C718.354004,247.483475 720.628296,254.405396 727.264465,255.508301 C736.886353,257.107452 746.559937,256.500488 755.369385,251.313980 C756.595337,250.592209 757.702820,249.295578 759.743652,250.023163 C760.529358,253.551117 757.263489,254.743912 755.414246,256.174438 C748.176514,261.773102 740.678894,267.040924 733.196350,272.316101 C727.932617,276.027008 722.231934,279.181183 717.286133,283.262390 C712.325928,287.355408 705.511475,288.359314 701.273438,293.502808 C700.601318,294.318665 699.051758,295.249298 698.262024,295.000885 C690.505859,292.561218 682.377869,296.918060 674.591370,293.290619 C668.697937,290.545074 664.213013,286.405640 661.302612,280.982056 C658.177612,275.158752 654.251892,269.795837 651.637207,263.653412 C650.714050,261.484741 652.497742,258.218079 648.074097,257.028534 C640.178284,254.905273 630.665955,258.796326 627.303711,266.702667 C626.913696,267.619843 626.669373,268.599731 626.268433,269.511383 C623.487915,275.833801 623.480347,275.830475 629.379272,279.246338 C632.008972,280.769104 637.242188,278.777863 639.614075,275.349365 C640.555237,273.989014 641.452576,272.595703 642.454468,271.281952 C642.720764,270.932831 643.300354,270.822693 644.172241,270.382721 C646.417969,274.151001 650.434998,276.000519 651.828064,281.180542 C654.605530,291.508423 672.017395,302.388519 682.744202,303.914642 C689.290771,304.846008 695.012024,302.222656 701.258789,302.384674 C704.838806,302.477600 708.087524,299.280518 711.224731,297.442780 C718.729248,293.046692 725.494751,287.397125 732.615845,282.333923 C734.909058,280.703400 737.572937,279.558624 739.736511,277.787598 C747.807129,271.181030 755.757568,264.444031 761.168945,255.265381 C763.103027,251.984848 767.148865,252.395767 769.105652,255.752579 C771.498596,259.857391 771.296753,264.519623 771.563477,268.890533 C772.074097,277.257416 777.181152,282.989197 782.636902,287.794464 C792.205444,296.222229 790.381165,309.914398 784.026794,317.306488 C777.981018,324.339569 770.935608,330.387665 763.603882,336.622406 M393.886688,306.563110 C404.207977,306.085449 408.717133,297.678070 414.201752,290.927460 C419.572083,293.387512 423.371155,296.932953 426.407837,301.035034 C431.819885,308.345764 438.890411,313.120239 447.408691,315.683472 C458.328156,318.969177 463.106232,317.039825 468.889282,307.316956 C461.100098,314.118042 452.606171,312.681702 445.207458,309.186523 C435.008057,304.368256 427.220154,296.202087 420.947754,286.656799 C417.212158,280.971985 410.453796,281.772003 407.066193,287.584259 C404.880524,291.334290 402.213806,294.922546 398.642670,297.353210 C397.054230,296.375031 396.851257,295.314178 397.197296,294.389038 C399.856445,287.279968 398.826721,279.754272 399.894257,272.510468 C400.490082,268.467285 398.701599,264.085297 401.095642,260.497162 C403.017548,257.616669 402.933472,254.960342 401.900391,252.016220 C401.408081,250.613373 400.696747,249.283417 401.280670,247.692764 C403.735382,241.006409 402.600006,233.722733 402.183136,227.223907 C401.692535,219.576218 403.650208,211.803528 401.479370,204.317001 C400.288971,200.211594 401.133545,195.092163 396.519440,192.495316 C391.381348,189.603546 386.436066,190.049438 381.857361,193.893906 C381.236053,194.415588 380.478699,194.831543 379.717682,195.121933 C370.594452,198.603134 362.997650,204.846863 354.342590,209.260345 C348.059418,212.464310 341.925323,217.038498 336.672913,221.777893 C328.185486,229.436325 317.913574,233.985931 308.841125,240.501556 C304.898254,243.333252 298.190552,241.079620 295.744232,236.391861 C298.580872,234.237885 302.580231,237.292236 305.470856,234.452789 C305.016327,233.863663 304.781586,233.226624 304.429901,233.153687 C299.434357,232.117767 294.639252,230.105133 289.350220,230.493134 C285.308655,230.789612 281.100677,231.321091 277.203644,230.550308 C269.689484,229.064056 262.594543,226.539627 254.550827,226.749390 C241.839096,227.080887 231.248795,232.337173 221.498505,239.155441 C215.591446,243.286179 212.431107,250.622101 210.185303,257.530334 C208.190384,263.666840 208.560379,270.027893 212.535583,275.852722 C214.179657,278.261749 215.510300,279.802704 218.697525,279.796722 C221.677582,279.791107 224.868942,278.060394 228.046432,280.345764 C224.280319,289.468872 221.251526,298.882996 219.983124,308.315094 C218.971588,315.837250 217.131729,323.587006 219.415588,331.803131 C221.789276,340.342590 227.440643,347.336975 235.876495,349.396454 C241.253906,350.709259 246.660965,350.658264 251.986206,351.205078 C260.267792,352.055420 268.784058,352.251953 277.036041,350.278137 C284.365051,348.525085 291.307892,345.713226 298.264404,342.716583 C309.739319,337.773468 319.427734,330.294891 326.637024,320.719940 C331.216064,314.638428 333.774506,306.513397 335.949158,298.720215 C336.928741,295.209686 335.173370,292.177216 335.764832,288.893646 C337.439789,279.595154 334.102753,271.462982 328.712921,264.400208 C324.136719,258.403625 319.167236,252.494156 311.296600,248.464569 C338.127960,231.881973 361.583771,211.445389 390.356232,199.495651 C394.680389,208.590149 392.832703,217.863525 393.390320,226.578705 C393.819122,233.280869 392.897797,240.388901 393.058960,247.451019 C393.392181,262.052307 390.894745,276.541534 388.495575,290.946564 C386.671234,301.899933 386.879669,303.106476 393.886688,306.563110 M614.964905,396.876740 C612.554749,403.583466 615.269409,411.015808 611.850342,417.661499 C610.369446,420.540100 608.071838,423.070099 607.873413,426.671112 C607.779236,428.378906 605.890503,429.240082 604.065674,429.289185 C599.611572,429.409027 595.236633,428.673431 590.830566,428.145874 C585.340271,427.488495 580.941284,424.177094 576.669006,421.492584 C573.345581,419.404327 569.297424,418.692993 566.439697,415.708496 C558.963135,407.900360 542.894165,405.441406 533.915405,411.350800 C526.080627,416.507263 518.624390,422.395355 512.628479,429.748352 C509.050568,434.136139 504.202789,435.660797 499.120026,435.871124 C492.887054,436.129028 490.318329,431.926392 491.145172,425.558350 C491.878510,419.910675 492.921692,414.109283 490.872803,408.518585 C483.754456,408.226715 482.373047,409.099976 482.453766,415.760101 C482.536591,422.597260 480.300049,428.350067 476.502991,433.795105 C474.101227,437.239288 469.589874,437.823212 467.103088,440.978973 C459.384735,450.773773 441.232056,451.412872 433.113037,445.684418 C428.446899,442.392242 428.237244,440.225159 433.467407,438.259308 C444.150604,434.243958 452.133453,426.529938 460.659210,419.528473 C465.377289,415.653900 465.551697,410.347137 464.485077,404.928711 C463.463776,399.740356 459.166687,397.113373 454.932861,395.626892 C446.573761,392.691925 434.260773,398.327606 429.655090,406.385620 C423.823883,416.587646 419.192505,427.102386 420.074738,439.304016 C420.326111,442.780579 424.425232,449.713043 427.273315,451.494934 C432.710571,454.896729 438.801605,457.077209 444.879639,456.939270 C450.364471,456.814728 456.389099,458.066895 461.578796,454.365143 C467.991547,449.791077 474.629639,445.532990 481.169739,441.137421 C482.258423,440.405731 483.486328,438.625275 484.484680,439.249695 C488.695465,441.883301 493.833618,440.089386 497.732117,441.800262 C505.755798,445.321503 512.283508,441.440887 516.471252,436.857574 C522.697388,430.043304 529.564026,424.310242 536.703308,418.682159 C542.165894,414.375916 548.283081,415.223114 554.515442,415.717468 C559.701477,416.128845 562.557434,420.107361 565.883301,422.982819 C577.004883,432.598358 589.830078,436.753540 604.308594,436.675018 C609.113403,436.648956 612.214417,434.377289 614.811584,430.419830 C620.055664,422.429199 621.559692,413.872833 622.004211,404.342926 C622.674866,389.963287 617.634705,378.472168 607.894226,368.821655 C602.873718,363.847565 594.950012,361.960297 590.001160,368.578735 C590.428406,369.467743 591.297852,369.783661 592.088501,369.611298 C597.442566,368.444122 601.371521,370.854553 604.757629,374.577332 C608.024780,378.169312 610.145081,382.684418 611.555725,387.041779 C612.536682,390.071960 612.755127,393.383240 614.964905,396.876740 M325.931793,389.098785 C330.017395,389.200134 330.960205,392.414276 331.813599,395.396423 C332.552490,397.978241 333.604858,400.150757 335.179016,402.416534 C337.471527,405.716339 339.947144,408.979218 341.114624,413.160614 C342.371216,417.661133 344.232239,422.378937 347.120361,425.961273 C354.170868,434.706482 357.862915,445.386536 364.937225,454.296539 C369.826324,460.454315 373.132538,468.624512 377.023682,475.959625 C378.496704,478.736359 380.341675,479.224731 382.637970,478.275757 C384.639587,477.448608 386.649200,476.528076 386.067291,473.158264 C385.123444,467.692596 382.116608,463.435547 379.406677,458.913574 C370.741791,444.454895 361.995667,430.042023 353.554535,415.453125 C347.938446,405.746765 341.400452,396.581726 336.608582,386.583496 C339.616486,381.973236 344.746735,383.878021 348.839752,382.558197 C356.374054,380.128693 363.524170,376.265472 372.100464,377.947357 C377.733459,379.052094 383.376007,375.875854 389.231537,376.346130 C390.585968,376.454956 392.135101,375.570007 392.520203,373.670868 C391.563690,371.675262 389.437836,371.038574 387.679352,370.690826 C379.525085,369.078430 371.195618,370.309937 363.218323,371.315247 C356.646179,372.143433 349.759308,373.206818 343.345276,375.425354 C336.352509,377.844116 330.261322,377.980682 325.605438,371.081726 C324.651428,369.668060 322.922638,368.946259 321.304230,370.546265 C319.948425,371.886566 319.062836,373.315063 319.834778,375.437378 C320.557922,377.425415 322.487915,378.876831 322.455566,380.957886 C319.074890,384.629700 314.296295,384.370178 310.503510,386.102295 C303.017578,389.520996 295.074860,392.164581 288.188507,396.880157 C286.844849,397.800293 285.576569,398.757385 284.009247,399.461517 C277.395660,402.432587 270.890747,405.661316 264.458984,409.012421 C262.275757,410.149994 260.418213,411.916534 258.424286,413.412170 C256.730896,414.682343 255.348495,416.056274 257.135254,418.472015 C260.898590,418.323273 263.059357,415.058990 266.165100,413.763153 C284.713318,406.023926 303.478333,398.781464 321.329376,389.467072 C322.681366,388.761658 323.944733,389.437866 325.931793,389.098785 M533.618896,270.813354 C531.288818,266.915161 532.667725,263.055847 532.958130,258.922455 C533.313782,253.860321 535.946472,253.367126 539.404480,252.677612 C540.537598,252.451675 541.740540,252.474380 542.823669,252.116974 C548.915527,250.106888 554.638733,249.100372 559.450745,255.090240 C563.397766,260.003448 566.664917,265.028259 565.965698,271.649323 C564.726196,283.384735 567.552002,294.452454 575.118835,303.034393 C582.049561,310.894806 588.626343,320.877441 601.642639,319.773834 C602.040283,319.740112 602.629089,320.119080 602.880188,320.479034 C605.840149,324.722748 609.067444,322.210510 612.091492,320.744995 C616.451843,318.631866 619.309387,315.169678 621.475220,309.679535 C618.439758,311.174774 616.613770,312.635101 614.616760,312.927490 C611.567871,313.373810 609.001282,314.950165 605.297913,314.143127 C596.620178,312.252045 591.615784,305.865479 585.486572,300.699585 C580.783875,296.736084 576.865723,292.136688 575.879272,286.072449 C575.112244,281.357544 574.388000,276.604095 573.762329,271.853516 C572.374512,261.314178 567.633179,252.753494 559.103088,246.380722 C557.377625,245.091660 555.337830,244.858109 553.115967,244.599792 C547.606140,243.959229 542.764282,246.917831 537.267700,246.674576 C532.858948,246.479462 526.099915,251.057419 525.307922,255.402298 C523.306824,266.380615 525.744263,276.618958 530.692749,286.048187 C534.003113,292.356140 535.177673,298.665039 535.570496,306.102020 C519.831177,299.432465 502.578583,297.123932 490.550964,283.839386 C489.708374,284.035400 488.955841,285.106964 489.397980,285.556030 C491.507812,287.698914 491.706909,290.779388 493.396820,293.083038 C494.134216,294.088226 495.098785,294.654877 496.384766,294.563171 C498.439728,294.416626 499.705566,295.554016 501.001160,297.012390 C502.755676,298.987335 505.007446,300.326385 507.467468,301.435974 C515.820129,305.203552 524.687195,307.749451 532.778931,312.121033 C537.618652,314.735718 541.500244,313.171570 543.040283,307.887268 C544.505432,302.859955 543.499146,297.740570 541.443359,293.421936 C538.081787,286.360352 535.270752,279.252533 533.618896,270.813354 M443.412598,284.857361 C445.249969,288.152161 446.992249,291.504883 448.953186,294.724426 C450.679871,297.559448 453.748810,298.465912 456.683411,298.341766 C459.069244,298.240845 459.899475,295.870819 460.064240,293.600861 C454.228363,289.995514 451.950195,284.238159 450.963196,278.072998 C450.455597,274.902191 449.208679,272.049438 448.341003,269.069427 C447.733002,266.981323 445.658875,264.870880 443.053040,265.599304 C440.568085,266.293915 440.819275,268.583832 440.954010,270.926117 C441.213623,275.438507 442.838806,279.644409 443.412598,284.857361 M251.000427,417.932678 C249.339890,419.683685 246.645233,420.951904 247.854996,424.263123 C252.342865,422.248199 253.608337,419.844269 251.000427,417.932678 z"/>
                <path fill="#2a5264" opacity="1.000000" stroke="none" d="M583.363770,205.669342 C585.567932,206.794800 587.859009,207.327286 588.888794,209.798767 C585.895935,209.941635 583.507751,208.976212 582.243774,205.898849 C582.226013,205.855667 582.461304,205.662964 582.604126,205.612137 C582.750549,205.560013 582.928589,205.596558 583.363770,205.669342 z"/>
                <path fill="#2a5264" opacity="1.000000" stroke="none" d="M251.796539,277.905762 C260.019836,274.711060 267.923126,271.848358 275.924438,269.203857 C279.270386,268.097961 282.562714,265.575500 285.500000,263.472870 C290.460297,259.921997 296.559601,259.041168 301.316040,255.387161 C302.475800,254.496216 303.993896,253.411423 305.421295,254.500900 C314.933746,261.761322 325.114014,269.095184 326.922791,281.786469 C328.553375,293.227173 327.755341,304.907135 320.038818,314.779205 C313.706055,322.880951 306.256500,330.146362 297.613464,335.270844 C292.405060,338.358948 285.543762,339.492706 279.390808,341.394531 C271.553650,343.816895 263.474731,343.753540 255.470520,343.315582 C250.080826,343.020691 244.766434,343.812042 239.232437,342.642761 C231.000580,340.903412 225.928162,333.029327 226.850311,326.983978 C228.093735,318.832397 227.181442,310.444672 229.519058,302.476929 C231.372055,296.161041 233.577942,289.938019 235.878448,283.767426 C237.720016,278.827850 242.742615,279.897522 246.524216,278.726471 C248.077133,278.245575 249.785904,278.268036 251.796539,277.905762 z"/>
                <path fill="#2a5264" opacity="1.000000" stroke="none" d="M241.234161,237.961731 C249.175995,234.376251 259.370911,234.646500 262.455444,238.497986 C253.662048,244.070206 247.736801,252.604034 240.549881,259.843994 C238.312500,262.097900 237.416412,265.629028 235.624527,268.392761 C233.252335,272.051575 222.054718,272.498016 219.290405,269.191803 C217.929199,267.563751 219.281998,257.564056 220.391525,254.830261 C224.213272,245.413773 232.862671,242.227890 241.234161,237.961731 z"/>
                <path fill="#2a5264" opacity="1.000000" stroke="none" d="M267.165833,244.142822 C271.893341,239.692062 276.457428,238.834198 282.258820,241.817902 C286.652557,244.077621 292.021179,244.420898 295.570160,249.004211 C279.780304,258.774994 263.129852,266.949646 243.522064,271.666199 C249.537155,259.934235 255.812302,250.142685 267.165833,244.142822 z"/>
                <path fill="#2a5264" opacity="1.000000" stroke="none" d="M433.552063,433.870239 C432.424225,434.304657 431.648132,434.623596 430.840637,434.777252 C430.384003,434.864136 429.875641,434.679413 428.996338,434.566345 C427.885071,425.371307 430.354919,417.147644 436.173859,410.141693 C438.490143,407.352905 438.630676,402.843597 443.887115,402.033051 C449.800201,401.121216 455.963287,401.950195 458.296417,405.795227 C460.334717,409.154358 458.183258,415.372955 453.375793,419.269958 C447.096954,424.359741 440.755707,429.380951 433.552063,433.870239 z"/>
              </svg>
            </.link>
          </div>

          <div class="hidden md:flex md:space-x-8 md:items-center">
            <.link
              navigate={~p"/series"}
              class="text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium"
            >
              Collections
            </.link>
            <.link
              navigate={~p"/about"}
              class="text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium"
            >
              About
            </.link>
            <.link
              navigate={~p"/press-projects"}
              class="text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium"
            >
              Press & Projects
            </.link>
            <.link
              navigate={~p"/contact"}
              class="rounded-md bg-gray-900 px-3.5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-800"
            >
              Contact
            </.link>
            <%= if @theme == "reviewer" do %>
              <button
                id="annotation-toggle-btn"
                phx-click="toggle_mode"
                class="text-indigo-600 hover:text-indigo-700 px-3 py-2 text-sm font-medium border border-indigo-600 rounded-md"
              >
                Toggle Annotations
              </button>
              <a href="/set-theme/original" class="text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium border border-gray-300 rounded-md">
                Exit Review
              </a>
            <% else %>
              <div class="relative">
                <button
                  id="theme-dropdown-toggle"
                  onclick="document.getElementById('theme-dropdown-menu').classList.toggle('hidden')"
                  class="text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium border border-gray-300 rounded-md flex items-center gap-1"
                >
                  Theme
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/>
                  </svg>
                </button>
                <div
                  id="theme-dropdown-menu"
                  class="hidden absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-md shadow-lg z-50"
                >
                  <a href="/set-theme/atelier" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200">
                    Atelier
                  </a>
                  <a href="/set-theme/curator" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200">
                    Curator
                  </a>
                  <a href="/set-theme/original" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200">
                    Original
                  </a>
                  <a href="/set-theme/gallery" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200">
                    Gallery
                  </a>
                  <a href="/set-theme/cottage" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    Cottage
                  </a>
                </div>
              </div>
            <% end %>
          </div>

          <div class="flex md:hidden">
            <button
              type="button"
              phx-click={JS.toggle(to: "#mobile-menu")}
              class="inline-flex items-center justify-center rounded-md p-2 text-gray-700 hover:bg-gray-100 hover:text-gray-900"
            >
              <span class="sr-only">Open menu</span>
              <svg
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <div id="mobile-menu" class="hidden md:hidden border-t border-gray-200" style="position: relative; z-index: 1100;">
        <div class="space-y-1 px-2 pb-3 pt-2">
          <a
            href="/series"
            onclick="document.getElementById('mobile-menu').classList.add('hidden')"
            class="block rounded-md px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900"
          >
            Collections
          </a>
          <a
            href="/about"
            onclick="document.getElementById('mobile-menu').classList.add('hidden')"
            class="block rounded-md px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900"
          >
            About
          </a>
          <a
            href="/press-projects"
            onclick="document.getElementById('mobile-menu').classList.add('hidden')"
            class="block rounded-md px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900"
          >
            Press & Projects
          </a>
          <a
            href="/contact"
            onclick="document.getElementById('mobile-menu').classList.add('hidden')"
            class="block rounded-md px-3 py-2 text-base font-medium bg-gray-900 text-white hover:bg-gray-800"
          >
            Contact
          </a>

          <%= if @theme == "reviewer" do %>
            <div class="px-3 py-2 space-y-2">
              <button
                phx-click="toggle_mode"
                class="w-full text-left block rounded-md px-3 py-2 text-base font-medium text-indigo-600 border border-indigo-600 hover:bg-indigo-50"
              >
                Toggle Annotations
              </button>
              <a
                href="/set-theme/original"
                onclick="document.getElementById('mobile-menu').classList.add('hidden')"
                class="block rounded-md px-3 py-2 text-base font-medium text-gray-700 border border-gray-300 hover:bg-gray-50"
              >
                Exit Review
              </a>
            </div>
          <% else %>
            <div class="px-3 py-2">
              <div class="text-sm font-semibold text-gray-500 mb-2">Theme</div>
              <div class="space-y-1">
                <a
                  href="/set-theme/atelier"
                  class="block rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900"
                >
                  Atelier
                </a>
                <a
                  href="/set-theme/curator"
                  class="block rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900"
                >
                  Curator
                </a>
                <a
                  href="/set-theme/original"
                  class="block rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900"
                >
                  Original
                </a>
                <a
                  href="/set-theme/gallery"
                  class="block rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900"
                >
                  Gallery
                </a>
                <a
                  href="/set-theme/cottage"
                  class="block rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900"
                >
                  Cottage
                </a>
              </div>
            </div>
          <% end %>

        </div>
      </div>
    </nav>
    """
  end

  @doc """
  Renders the footer for public pages.
  """
  def footer(assigns) do
    ~H"""
    <footer class="bg-gray-50 border-t border-gray-200 mt-auto">
      <div class="mx-auto max-w-7xl px-6 py-12 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div>
            <h3 class="text-sm font-semibold text-gray-900">Navigation</h3>
            <ul class="mt-4 space-y-2">
              <li>
                <.link navigate={~p"/series"} class="text-sm text-gray-600 hover:text-gray-900">
                  Collections
                </.link>
              </li>
              <li>
                <.link navigate={~p"/about"} class="text-sm text-gray-600 hover:text-gray-900">
                  About
                </.link>
              </li>
              <li>
                <.link navigate={~p"/contact"} class="text-sm text-gray-600 hover:text-gray-900">
                  Contact
                </.link>
              </li>
            </ul>
          </div>

          <div>
            <h3 class="text-sm font-semibold text-gray-900">Connect</h3>
            <ul class="mt-4 space-y-2">
              <li>
                <a
                  href="https://instagram.com/oliviatewstudio"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-sm text-gray-600 hover:text-gray-900"
                >
                  Instagram
                </a>
              </li>
              <li>
                <a
                  href="mailto:olivia.tew@gmail.com"
                  class="text-sm text-gray-600 hover:text-gray-900"
                >
                  Email
                </a>
              </li>
            </ul>
          </div>

          <div>
            <h3 class="text-sm font-semibold text-gray-900">Newsletter</h3>
            <p class="mt-4 text-sm text-gray-600">
              Subscribe to receive updates about new work and exhibitions.
            </p>
            <.link
              navigate={~p"/"}
              class="mt-4 inline-block text-sm font-semibold text-gray-900 hover:text-gray-700"
            >
              Subscribe →
            </.link>
          </div>
        </div>

        <div class="mt-8 border-t border-gray-200 pt-8">
          <p class="text-xs text-gray-500 text-center">
            © {Date.utc_today().year} Olivia Tew. All rights reserved.
          </p>
        </div>
      </div>
    </footer>
    """
  end
end
