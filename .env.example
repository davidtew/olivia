# =============================================================================
# OLIVIA PHOENIX APP - ENVIRONMENT VARIABLES TEMPLATE
# =============================================================================
# This is a template file. Copy this to .env and fill in actual values.
# DO NOT commit .env to git - it contains secrets!
#
# To use: cp .env.example .env
# Then edit .env with your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PostgreSQL connection string for production
# Format: ecto://USER:PASSWORD@HOST:PORT/DATABASE
# For Fly.io PostgreSQL: Get this from `fly postgres create` output
# For local dev: Use config/dev.exs settings instead
DATABASE_URL=ecto://postgres:postgres@localhost:5432/olivia_prod

# Database pool size (connections per instance)
# Fly.io recommendation: 10 for single instance, adjust based on your plan
POOL_SIZE=10

# Enable IPv6 for database connections (required for some Fly.io setups)
# Set to "true" if using Fly.io IPv6, otherwise "false"
ECTO_IPV6=false

# -----------------------------------------------------------------------------
# PHOENIX APP SECRETS
# -----------------------------------------------------------------------------
# Secret key base for signing cookies and tokens
# Generate with: mix phx.gen.secret
# CRITICAL: Must be unique per environment and NEVER shared publicly
SECRET_KEY_BASE=GENERATE_WITH_mix_phx_gen_secret_REPLACE_THIS_PLACEHOLDER

# Server configuration
PHX_SERVER=true
PHX_HOST=your-app.fly.dev
PORT=8080

# DNS cluster query (optional - for distributed Elixir)
# Leave empty for single-instance deployments
DNS_CLUSTER_QUERY=

# -----------------------------------------------------------------------------
# TIGRIS OBJECT STORAGE (S3-Compatible)
# -----------------------------------------------------------------------------
# Tigris is Fly.io's S3-compatible object storage for file uploads
# Get these from: https://fly.io/docs/reference/tigris/
#
# Steps to get credentials:
# 1. flyctl storage create (creates bucket + credentials)
# 2. Copy the output credentials here
# 3. Set bucket name to match what you created

# Access credentials
AWS_ACCESS_KEY_ID=tid_EXAMPLE_REPLACE_WITH_REAL_VALUE
AWS_SECRET_ACCESS_KEY=tsec_EXAMPLE_REPLACE_WITH_REAL_VALUE

# Region (Tigris uses "auto")
AWS_REGION=auto

# Bucket configuration
S3_BUCKET=olivia-gallery
S3_HOST=fly.storage.tigris.dev
S3_PUBLIC_URL=https://fly.storage.tigris.dev/olivia-gallery

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (Resend)
# -----------------------------------------------------------------------------
# Resend is the email service provider
# Sign up at: https://resend.com
# Get API key from: https://resend.com/api-keys

RESEND_API_KEY=re_EXAMPLE_REPLACE_WITH_REAL_VALUE

# Email addresses
FROM_EMAIL=noreply@oliviatew.art
FROM_NAME=Olivia Tew
ADMIN_EMAIL=olivia@example.com

# -----------------------------------------------------------------------------
# ANTHROPIC API (Optional - for AI image analysis)
# -----------------------------------------------------------------------------
# Only needed if you want automated AI analysis of uploaded artwork
# Get from: https://console.anthropic.com/settings/keys
# Leave empty to use manual analysis workflow

ANTHROPIC_API_KEY=

# -----------------------------------------------------------------------------
# DEVELOPMENT vs PRODUCTION
# -----------------------------------------------------------------------------
# For local development:
# - Don't create a .env file, use config/dev.exs defaults
# - Or create .env for testing production-like setup locally
#
# For Fly.io production:
# - Set these as secrets: flyctl secrets set KEY=VALUE
# - Don't rely on .env file in production
# =============================================================================
